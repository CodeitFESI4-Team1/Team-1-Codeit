"use strict";(self.webpackChunkcrewcrew=self.webpackChunkcrewcrew||[]).push([[973],{"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XI:()=>action});var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/internal/preview-api"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("storybook/internal/preview-errors"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),v4=__webpack_require__("./node_modules/@storybook/addon-actions/node_modules/uuid/dist/esm-browser/v4.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a},generateId=()=>"object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.A)():Date.now().toString(36)+Math.random().toString(36).substring(2);function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!window?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id=generateId(),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}},"./src/components/common/input/file-input-wrap/file-input/file-input.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FileInput01:()=>FileInput01,__namedExportsOrder:()=>__namedExportsOrder,default:()=>file_input_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs");const ic_plus={src:"static/media/ic-plus.50aee59b.svg",height:48,width:48,blurDataURL:"static/media/ic-plus.50aee59b.svg"},ic_x={src:"static/media/ic-x.22c57ffc.svg",height:10,width:10,blurDataURL:"static/media/ic-x.22c57ffc.svg"};function FileInput({value,isBlur,onChange}){const[preview,setPreview]=(0,react.useState)(null),[fileReader,setFileReader]=(0,react.useState)(null),fileInput=(0,react.useRef)(null),timerRef=(0,react.useRef)(null),debouncedHandleFileLoad=(func=file=>{fileReader&&fileReader.abort();const reader=new FileReader;setFileReader(reader),reader.onloadend=()=>{setPreview(reader.result)},reader.readAsDataURL(file)},delay=300,(...args)=>{timerRef.current&&clearTimeout(timerRef.current),timerRef.current=setTimeout((()=>func(...args)),delay)});var func,delay;return(0,react.useEffect)((()=>()=>{fileReader&&fileReader.abort(),preview&&URL.revokeObjectURL(preview),timerRef.current&&clearTimeout(timerRef.current)}),[fileReader]),(0,react.useEffect)((()=>{value&&isBlur&&setPreview(null)}),[value,isBlur]),(0,jsx_runtime.jsxs)("div",{className:"min-w-1/4 relative flex aspect-square w-1/4 gap-2",children:[(0,jsx_runtime.jsxs)("label",{htmlFor:"item-file",className:"flex h-full w-full cursor-pointer flex-col items-center justify-center rounded-xl bg-neutral-100",children:[(0,jsx_runtime.jsx)(next_image.A,{width:"48",height:"48",src:ic_plus,alt:"이미지 추가"}),(0,jsx_runtime.jsx)("span",{children:"이미지 등록"})]}),(0,jsx_runtime.jsx)("input",{type:"file",accept:"image/png, image/jpeg",ref:fileInput,onChange:e=>{if(e.target.files&&e.target.files[0]){const file=e.target.files[0];onChange(file),debouncedHandleFileLoad(file)}},id:"item-file",className:"hidden"}),preview&&(0,jsx_runtime.jsxs)("div",{className:"absolute inset-0 overflow-hidden rounded-xl bg-neutral-100",children:[(0,jsx_runtime.jsx)(next_image.A,{src:preview,fill:!0,alt:"이미지 미리보기",className:"h-full w-full object-cover"}),(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>{setPreview(null),onChange(null),fileInput.current&&(fileInput.current.value="")},className:"absolute right-2 top-2 flex items-center justify-center rounded-full bg-blue-500 p-1.5",children:(0,jsx_runtime.jsx)(next_image.A,{width:"8",height:"8",src:ic_x,alt:"이미지 삭제"})})]})]})}FileInput.__docgenInfo={description:"",methods:[],displayName:"FileInput",props:{value:{required:!0,tsType:{name:"union",raw:"File | null",elements:[{name:"File"},{name:"null"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: File | null) => void",signature:{arguments:[{type:{name:"union",raw:"File | null",elements:[{name:"File"},{name:"null"}]},name:"value"}],return:{name:"void"}}},description:""},isBlur:{required:!0,tsType:{name:"boolean"},description:""}}};const file_input_stories={title:"Components/input/file-input",component:FileInput,tags:["autodocs"],argTypes:{value:{control:{type:"file"},description:"선택된 파일"},isBlur:{control:"boolean",description:"블러 상태를 지정하는 boolean 값"},onChange:{action:"onChange",description:"파일 선택 시 호출되는 핸들러"}}},FileInput01=function FileInputStory(){const[fileValue,setFileValue]=(0,react.useState)({image:null}),[isBlur,setIsBlur]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(FileInput,{value:fileValue.image,onChange:newValue=>{(0,dist.XI)("onChange")({image:newValue}),setFileValue({image:newValue})},isBlur}),(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>setIsBlur((prev=>!prev)),style:{marginTop:"16px",padding:"8px 16px",backgroundColor:"lightgrey"},children:"블러 토글"})]})}.bind({});FileInput01.args={value:null,isBlur:!1,onChange:newValue=>{(0,dist.XI)("onChange")({image:newValue})}};const __namedExportsOrder=["FileInput01"];FileInput01.parameters={...FileInput01.parameters,docs:{...FileInput01.parameters?.docs,source:{originalSource:"function FileInputStory() {\n  const [fileValue, setFileValue] = useState<FileValueType>({\n    image: null\n  });\n  const [isBlur, setIsBlur] = useState(false);\n  return <div>\r\n      <FileInput value={fileValue.image} onChange={newValue => {\n      action('onChange')({\n        image: newValue\n      });\n      setFileValue({\n        image: newValue\n      });\n    }} isBlur={isBlur} // 기본값이 설정된 args에서 isBlur 값을 받아서 UI에 반영\n    />\r\n      <button type=\"button\" onClick={() => setIsBlur(prev => !prev)} style={{\n      marginTop: '16px',\n      padding: '8px 16px',\n      backgroundColor: 'lightgrey'\n    }}>\r\n        블러 토글\r\n      </button>\r\n    </div>;\n}",...FileInput01.parameters?.docs?.source}}}}}]);